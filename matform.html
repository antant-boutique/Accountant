<!DOCTYPE html>
<html>
<head>
    <title>Material Form</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        .picture-input {
            width: 100px;
            height: 100px;
            border: 1px solid black;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 40px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <h2>Material Form</h2>
    <form id="materialForm">
        <div>
            <label for="picture">Picture:</label>
            <div class="picture-input" onclick="openPictureDialog()">
                +
            </div>
            <input type="file" id="picture" accept="image/*" style="display: none;">
        </div>
        <div>
            <label for="material">Material:</label>
            <input type="text" id="material">
        </div>
        <div>
            <label for="color">Color/Print:</label>
            <input type="text" id="color">
        </div>
        <div>
            <label for="quantity">Quantity:</label>
            <input type="number" id="quantity">
        </div>
        <div>
            <label for="price">Price:</label>
            <input type="number" id="price">
        </div>
    </form>

    <script type="text/javascript">
        function openPictureDialog() {
            document.getElementById('picture').click();
        }

        Telegram.WebApp.ready();
        Telegram.WebApp.MainButton.setText('Next').show().onClick(function () {
	    var form = document.getElementById('materialForm');
            var pictureInput = document.getElementById('picture');
	    var materialInput = document.getElementById('material');
            var colorInput = document.getElementById('color');
            var quantityInput = document.getElementById('quantity');
            var priceInput = document.getElementById('price');

                var formData = {
                    picture: pictureInput.files[0].name,
                    material: materialInput.value,
                    color: colorInput.value,
                    quantity: parseInt(quantityInput.value),
                    price: parseFloat(priceInput.value)
                };

                var jsonString = JSON.stringify(formData);
                Telegram.WebApp.sendData(jsonString);
                Telegram.WebApp.close();
            };

        });
    </script>
    <script type="text/javascript">
    Telegram.WebApp.expand();
    </script>
</body>
</html>

